<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>睡眠助理小幫手</title>
</head>
<body>
  <h2>請輸入你的睡眠狀況：</h2>
  <textarea id="userInput" rows="6" cols="50" placeholder="例如：我最近都睡不到 5 小時..."></textarea><br><br>
  <button onclick="sendInput()">送出分析</button>

  <h3>分析結果：</h3>
  <pre id="resultOutput"></pre>

  <script>
    async function sendInput() {
      const userInput = document.getElementById("userInput").value;
      const resultArea = document.getElementById("resultOutput");

      const response = await fetch("https://sleep.zeabur.app/webhook/c8f29e8a-3796-43f8-940a-23b061039ff2", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ user_input: userInput })
      });

      const text = await response.text();
try {
  const data = JSON.parse(text);
  resultArea.textContent = data.result || JSON.stringify(data, null, 2);
} catch (e) {
  resultArea.textContent = "⚠️ 無法解析回應內容：\n" + text;
}

    }
  </script>
</body>
</html>
